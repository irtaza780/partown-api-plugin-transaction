enum transactionType {
  deposit
  withdraw
}

enum tradeTransactionType {
  sell
  buy
}

enum approvalStatusEnum {
  approved
  rejected
  pending
}

enum sortOrder {
  "asc"
  asc

  "desc"
  desc
}

input filters {
  sortBy: transactionType
}

input transactionInput {
  transactionBy: String!
  amount: Float!
  transactionType: transactionType!
}

type transactionOutput {
  success: Boolean
  message: String
  status: Int
}

type serviceCharges {
  buyer: Float
  seller: Float
  total: Float
}

type transaction implements Node {
  _id: ID!
  amount: Float
  approvalStatus: approvalStatusEnum
  transactionBy: String
  transactionByInfo: Account
  transactionId: String
  transactionType: transactionType
  tradeTransactionType: tradeTransactionType
  serviceCharges: serviceCharges
  unitsQuantity: Float
  createdAt: DateTime
  updatedAt: DateTime
  sortOrder: sortOrder
}

extend type Mutation {
  makeTransaction(input: transactionInput!): transaction
  deleteTransaction(transactionId: String!): Boolean
  updateTransactionStatus(
    transactionId: String!
    approvalStatus: approvalStatusEnum!
  ): Boolean
}

extend type Query {
  getAllTransactions(filters: filters): [transaction]
  getAllTradeTransactions(filters: filters, accountId: ID): [transaction]
  userTransactions: [transaction]
}
